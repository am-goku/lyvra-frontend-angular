<!-- MOBILE: Filter button + Search bar -->
<div class="sm:hidden flex items-center gap-3 px-4 mt-4">
  <!-- Filter Button -->
  <button
    (click)="setIsDrawerOpen()"
    class="bg-rose-600 hover:bg-rose-700 text-white px-4 py-2.5 rounded-full flex items-center gap-2 shadow-lg transition-all duration-200 flex-shrink-0 font-medium">
    <lucide-icon [img]="SliderIcon" class="w-5 h-5"></lucide-icon>
    <!-- <span class="text-sm">Filters</span> -->
  </button>

  <!-- Search Bar -->
  <div class="flex-1 relative">
    <input
      type="text"
      placeholder="Search for products..."
      class="w-full px-4 py-2.5 rounded-full placeholder:text-gray-400 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-rose-600 text-sm shadow-sm transition-shadow" />
    <lucide-icon
      [img]="SearchIcon"
      class="w-5 h-5 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500"></lucide-icon>
  </div>
</div>

<!-- MOBILE DRAWER -->
@if (isDrawerOpen) {
<div class="fixed inset-0 z-50 flex justify-end bg-black/40 backdrop-blur-sm transition-opacity duration-300">
  <div
    class="bg-white w-80 max-w-full h-full shadow-2xl transform transition-transform duration-300 ease-out"
    [class.translate-x-full]="!isDrawerOpen"
    [class.translate-x-0]="isDrawerOpen">
    <button
      (click)="setIsDrawerOpen()"
      class="absolute top-4 right-4 text-gray-500 hover:text-gray-800 transition-colors p-1">
      <lucide-icon [img]="XIcon" class="w-6 h-6"></lucide-icon>
    </button>

    <h3 class="text-xl font-bold mb-5 mt-12 px-5 text-gray-900">Filters</h3>

    <div class="overflow-y-auto h-[calc(100vh-6rem)] px-5 pb-6 space-y-7 pr-2">
      <!-- Category -->
      <div>
        <h4 class="font-semibold text-gray-800 mb-3">Category</h4>
        <ul class="space-y-2.5">
          @for (i of [1,2,3,4,5]; track i) {
          <li>
            <label class="flex items-center gap-3 cursor-pointer select-none">
              <input type="checkbox" class="w-4 h-4 text-rose-600 rounded focus:ring-2 focus:ring-rose-500" />
              <span class="text-gray-700">Category {{ i }}</span>
            </label>
          </li>
          }
        </ul>
      </div>

      <!-- Gender -->
      <div>
        <h4 class="font-semibold text-gray-800 mb-3">Gender</h4>
        <ul class="space-y-2.5">
          <li><label class="flex items-center gap-3 cursor-pointer select-none"><input type="checkbox" class="w-4 h-4 text-rose-600 rounded focus:ring-2 focus:ring-rose-500" />Men</label></li>
          <li><label class="flex items-center gap-3 cursor-pointer select-none"><input type="checkbox" class="w-4 h-4 text-rose-600 rounded focus:ring-2 focus:ring-rose-500" />Women</label></li>
          <li><label class="flex items-center gap-3 cursor-pointer select-none"><input type="checkbox" class="w-4 h-4 text-rose-600 rounded focus:ring-2 focus:ring-rose-500" />Kids</label></li>
        </ul>
      </div>

      <!-- Price -->
      <div>
        <h4 class="font-semibold text-gray-800 mb-3">Price</h4>
        <input type="range" min="0" max="500" class="w-full h-1 bg-gray-200 rounded-full appearance-none cursor-pointer accent-rose-600" />
        <div class="flex justify-between text-sm text-gray-500 mt-2">
          <span>$0</span><span>$500</span>
        </div>
      </div>

      <!-- Color -->
      <div>
        <h4 class="font-semibold text-gray-800 mb-3">Color</h4>
        <div class="flex flex-wrap gap-3">
          @for (i of [1,2,3,4,5,6]; track i) {
          <span
            class="w-9 h-9 rounded-full border-2 border-gray-300 cursor-pointer transition-transform hover:scale-110 shadow-sm"
            [style.backgroundColor]="'hsl(' + (i * 60) + ', 70%, 50%)'"></span>
          }
        </div>
      </div>

      <button
        class="w-full bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-full mt-8 font-medium transition-all duration-200 shadow-md">
        Apply Filters
      </button>
    </div>
  </div>
</div>
}

<!-- DESKTOP SIDEBAR -->
<aside
  class="hidden sm:flex flex-col w-80 bg-white shadow-xl rounded-2xl p-6 sticky top-6 h-fit max-h-[calc(100vh-3rem)] overflow-y-auto space-y-7">
  
  <!-- Search on top -->
  <div class="relative mb-6">
    <input
      type="text"
      placeholder="Search products, brands..."
      class="w-full px-4 py-2.5 rounded-full placeholder:text-gray-400 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-rose-600 shadow-sm transition-shadow" />
    <lucide-icon
      [img]="SearchIcon"
      class="w-5 h-5 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500"></lucide-icon>
  </div>

  <!-- Filter Content -->
  <div>
    <h3 class="text-xl font-bold mb-5 text-gray-900">Filters</h3>

    <div class="space-y-7">
      <div>
        <h4 class="font-semibold text-gray-800 mb-3">Category</h4>
        <ul class="space-y-2.5">
          @for (i of [1,2,3,4,5]; track i) {
          <li>
            <label class="flex items-center gap-3 cursor-pointer select-none">
              <input type="checkbox" class="w-4 h-4 text-rose-600 rounded focus:ring-2 focus:ring-rose-500" />
              <span class="text-gray-700">Category {{ i }}</span>
            </label>
          </li>
          }
        </ul>
      </div>

      <div>
        <h4 class="font-semibold text-gray-800 mb-3">Gender</h4>
        <ul class="space-y-2.5">
          <li><label class="flex items-center gap-3 cursor-pointer select-none"><input type="checkbox" class="w-4 h-4 text-rose-600 rounded focus:ring-2 focus:ring-rose-500" />Men</label></li>
          <li><label class="flex items-center gap-3 cursor-pointer select-none"><input type="checkbox" class="w-4 h-4 text-rose-600 rounded focus:ring-2 focus:ring-rose-500" />Women</label></li>
          <li><label class="flex items-center gap-3 cursor-pointer select-none"><input type="checkbox" class="w-4 h-4 text-rose-600 rounded focus:ring-2 focus:ring-rose-500" />Kids</label></li>
        </ul>
      </div>

      <div>
        <h4 class="font-semibold text-gray-800 mb-3">Price</h4>
        <input type="range" min="0" max="500" class="w-full h-1 bg-gray-200 rounded-full appearance-none cursor-pointer accent-rose-600" />
        <div class="flex justify-between text-sm text-gray-500 mt-2">
          <span>$0</span><span>$500</span>
        </div>
      </div>

      <div>
        <h4 class="font-semibold text-gray-800 mb-3">Color</h4>
        <div class="flex flex-wrap gap-3">
          @for (i of [1,2,3,4,5,6]; track i) {
          <span
            class="w-9 h-9 rounded-full border-2 border-gray-300 cursor-pointer transition-transform hover:scale-110 shadow-sm"
            [style.backgroundColor]="'hsl(' + (i * 60) + ', 70%, 50%)'"></span>
          }
        </div>
      </div>

      <button
        class="w-full bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-full mt-8 font-medium transition-all duration-200 shadow-md">
        Apply Filters
      </button>
    </div>
  </div>
</aside>